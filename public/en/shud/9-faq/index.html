<!doctype html><!-- This site was created with Hugo Blox. https://hugoblox.com --><!-- Last Published: August 2, 2024 --><html lang=en-us><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=generator content="Hugo Blox Builder 5.9.7"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload='this.media="all"'><script src=/js/mathjax-config.js></script><link rel=stylesheet href=/css/vendor-bundle.min.css media=print onload='this.media="all"'><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1.9.4/css/academicons.min.css integrity="sha512-IW0nhlW5MgNydsXJO40En2EoCkTTjZhI3yuODrZIc8cQ4h1XcF53PsqDHa09NqnkXuIe0Oiyyj171BqZFwISBw==" crossorigin=anonymous media=print onload='this.media="all"'><script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js integrity crossorigin=anonymous async></script><link rel=stylesheet href=/css/wowchemy.css><link rel=stylesheet href=/css/libs/chroma/github-light.min.css title=hl-light media=print onload='this.media="all"'><link rel=stylesheet href=/css/libs/chroma/dracula.min.css title=hl-dark media=print onload='this.media="all"' disabled><meta name=baidu-site-verification content="code-caLY3Fu6xB"><meta name=author content="Lele Shu"><meta name=description content="FAQ"><link rel=alternate hreflang=en-us href=http://localhost:1313/en/shud/9-faq/><link rel=canonical href=http://localhost:1313/en/shud/9-faq/><link rel=manifest href=/en/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu4b7ba8d7b72b8d90530142c1f3cd9f35_73534_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu4b7ba8d7b72b8d90530142c1f3cd9f35_73534_180x180_fill_lanczos_center_3.png><meta name=theme-color content="#3f51b5"><meta property="twitter:card" content="summary"><meta property="twitter:site" content="@leleshu"><meta property="twitter:creator" content="@leleshu"><meta property="twitter:image" content="http://localhost:1313/media/icon_hu4b7ba8d7b72b8d90530142c1f3cd9f35_73534_512x512_fill_lanczos_center_3.png"><meta property="og:type" content="website"><meta property="og:site_name" content="SHUD Group"><meta property="og:url" content="http://localhost:1313/en/shud/9-faq/"><meta property="og:title" content="FAQ | SHUD Group"><meta property="og:description" content="FAQ"><meta property="og:image" content="http://localhost:1313/media/icon_hu4b7ba8d7b72b8d90530142c1f3cd9f35_73534_512x512_fill_lanczos_center_3.png"><meta property="og:locale" content="en-us"><meta property="og:updated_time" content="2020-02-23T00:00:00+00:00"><link rel=alternate href=/en/shud/9-faq/index.xml type=application/rss+xml title="SHUD Group"><title>FAQ | SHUD Group</title>
<script async defer src=https://buttons.github.io/buttons.js></script></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=91abf222f5907bd043c259b3764ce235><script src=/js/wowchemy-init.min.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=Close><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=Search... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search class=form-control aria-label=Search...></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><div class="page-header header--fixed"><header><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/en/>SHUD Group</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/en/>SHUD Group</a></div><div class="navbar-collapse main-menu-item collapse justify-content-center" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/en/#home><span>Home</span></a></li><li class=nav-item><a class=nav-link href=/en/project><span>Project</span></a></li><li class=nav-item><a class=nav-link href=/en/team><span>People</span></a></li><li class=nav-item><a class=nav-link href=/en/publication><span>Publications</span></a></li><li class=nav-item><a class=nav-link href=/en/course/><span>Course</span></a></li><li class=nav-item><a class=nav-link href=/book_en><span>SHUD Modelüìö</span></a></li><li class=nav-item><a class=nav-link href=/openfunding/><span>Open Funding‚≠ê</span></a></li><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" data-toggle=dropdown aria-haspopup=true><span>External-Link</span><span class=caret></span></a><div class=dropdown-menu><a class=dropdown-item href=https://ghdc.ac.cn><span>Global Hydro Cloudüåè</span></a>
<a class=dropdown-item href=https://shudapp.netlify.app><span>GalleryüñºÔ∏è</span></a></div></li><li class=nav-item><a class=nav-link href=/en/opp><span>Join Us</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=Search><i class="fas fa-search" aria-hidden=true></i></a></li></ul></div></nav></header></div><div class=page-body><div class="container-fluid docs"><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 docs-sidebar"><form class="docs-search d-flex align-items-center"><button class="btn docs-toggle d-md-none p-0 mr-md-3 w-100" type=button data-toggle=collapse data-target=#docs-nav aria-controls=docs-nav aria-expanded=false aria-label="Toggle section navigation"><div class=d-flex><span class="d-md-none pl-1 flex-grow-1 text-left overflow-hidden">Overview
</span><span><i class="fas fa-chevron-down"></i></span></div></button>
<button class="form-control sidebar-search js-search d-none d-md-flex">
<i class="fas fa-search pr-2"></i>
<span class=sidebar-search-text>Search...</span>
<span class=sidebar-search-shortcut>/</span></button></form><nav class="collapse docs-links" id=docs-nav></nav></div><div class="d-none d-xl-block col-xl-2 docs-toc"><ul class="nav toc-top"><li><a href=# id=back_to_top class=docs-toc-title>Contents</a></li></ul><nav id=TableOfContents><ul><li><a href=#the-shud-model>The SHUD model</a></li><li><a href=#shud-program-and-installation>SHUD program and installation</a></li><li><a href=#rshud>rSHUD</a></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role=main><div class=docs-article-container></div><div class=docs-article-container><h1>FAQ</h1><article class=article-style><h2 id=the-shud-model>The SHUD model</h2><ul><li><p><strong>Why the model uses Unstructured grids instead of regular/orthogonal grids?</strong></p><p>The unstructured grids benefit specific scientific or practical model purposes:</p><ul><li>In general, the number of cells in unstructured grids is less than regular grids.</li><li>The unstructured grids are opting to represent the heterogeneity of terrestrial properties, including elevation, slope, soil, and land use, rather than regular grids. The particular points and edges in the terrestrial map can be assigned during mesh generation, but it is hard to be adapted in regular grids.</li><li>Unstructured grids are so flexible that the size of cells can be adjusted based on modeling purposes. For example, when the modeler needs more details on a certain area of a large watershed, he/she can give fine resolution in the research area, but the coarser resolution of the rest of the watershed while keeping the interaction between fine and coarse resolution areas.</li><li>Unstructured grids are more natural and more suitable to represent the complex boundary (such as watershed boundary) than the regular grids. When the modeling domain is of the irregular and complex boundary, regular grids have to use high resolution everywhere to represent the boundary that increases computing burden.</li></ul><p>Reference: <a href=https://en.wikipedia.org/wiki/Grid_classification target=_blank rel=noopener>https://en.wikipedia.org/wiki/Grid_classification</a></p></li><li><p><strong>What is the difference between SHUD and PIHM model?</strong></p><p>As a descendant of PIHM, SHUD inherits the fundamental idea of conceptual structure and solving hydrological variables in CVODE. The code has been completely rewritten in a new programming language, with a new discretization and corresponding improvements to the underlying algorithms, adapting new mathematical schemes and a new user-friendly input/output data format. Although SHUD is forked from PIHM&rsquo;s track, SHUD still inherits the use of CVODE for solving the ODE system but modernizes and extends PIHM&rsquo;s technical and scientific capabilities.</p><p>The major differences are the following:</p><ul><li>SHUD is written in C++, an object-oriented programming language with functionality to avoid risky memory leaks from C. Every function in the code has been rewritten, so the functions, algorithm or data structure between SHUD and PIHM are incompatible.</li><li>SHUD implements a redesign of the calculation of water exchange between hillslope and river. The PIHM defines the river channel as adjacent to bank cells &ndash; namely, the river channel shares the edges with bank cells. This design leads to sink problems in cells that share one node with a starting river channel.</li><li>The mathematical equations used in infiltration, recharge, overland flow and river discharge are different among the two models. This change is so essential that the model results would be different with the same parameter set.</li><li>SHUD adds mass-balance control within the calculation of each layer of cells and river channels, critical for long-term or micro-scale hydrologic modeling.</li><li>Either inner data structure or external input/output formats are different. The inner data structure indicates the organization of data, parameters and operations within the program, as well as the strategy to connect the various procedures in the program. The format of input files for SHUD model is upgraded to a series of straightforward and user-friendly formats. The output of SHUD model supports both ASCII and Binary format. Particularly, the binary format is efficient in writing and post-processing.</li></ul><p>We now briefly summarize the technical model improvements and technical capabilities of the model, compared to PIHM. This elaboration of the relevant technical features aims to assist future developers and advanced users with model coupling.
Compared with PIHM, SHUD &mldr;</p><ul><li>supports the latest implicit Sundial/CVODE solver up to version 5.0.0 (the most recent version at the time of writing),</li><li>supports OpenMP parallel computation,</li><li>redesigns the program with object-oriented programming (C++),</li><li>supports human-readable input/output files and filenames,</li><li>exposes unified functions to handle the time-series data, including forcing, leaf area index, roughness length, boundary conditions and melt factor,</li><li>exports model initial condition at specific intervals that can be used for warm starts of continued simulation,</li><li>automatically checks the range of physical parameters and forcing data,</li><li>adds a debug mode that monitors potential errors in parameters and memory operations.</li></ul></li><li><p><strong>What kind of data is needed for SHUD model simulation?</strong></p><ul><li>Spatial Data: Elevation, watershed boundary, river network, soil map, geology map, landuse and coverage of forcing data.</li><li>Attributes table: Soil/geology properties, the geometry of rivers, land use parameters</li><li>Time-series: Forcing data (precipitation, temperature, relative humidity, wind speed, shortwave radiation), Leaf Area Index (LAI), roughness length, melting factor.</li></ul><p>The rSHUD can provide some of the data with default values. The detail can be found in the User Manual <a href=https://www.shud.xyz/Book_CN/ target=_blank rel=noopener>https://www.shud.xyz/Book_CN/</a>.</p></li><li><p><strong>What the suitability and suitable region of the SHUD model in the world?</strong></p><p>The SHUD model is very adaptive; it can be used widely for research and practical purposes.</p><p>The smallest modeling experiment is numerical modeling of Vauclin Experiment that is in a $ 2m * 3m * 0.05 m $ ($ H \times L \times W $), the top area is only $ 0.1 m^2‚Äã$.</p><p>The largest watershed modeling is 40-year groundwater and water availability research in Sacramento Watershed (700,000 $km^2$). The model takes about one hour to simulate a year when the mean area of cells is ~$7 km^2‚Äã$.</p><p>Some of the applications can be found via <a href=https://www.shud.xyz/applications/ target=_blank rel=noopener>https://www.shud.xyz/applications/</a>.</p></li></ul><h2 id=shud-program-and-installation>SHUD program and installation</h2><ul><li><p><strong>Where to access the source code of SHUD model?</strong></p><p>The source code of SHUD is available on GitHub: <a href=https://github.com/SHUD-System/SHUD target=_blank rel=noopener>https://github.com/SHUD-System/SHUD</a>.</p></li><li><p><strong>What OS platform is required for SHUD model?</strong></p><p>Since the source code of SHUD is written in standardized C++ Language, the program can be deployed on any platform as long as the user has a C++ compiler. The compiling process requires the support of SUNDIANLS/CVODE libraries, so the user should install SUNDIALS/CVODE before compiling SHUD. The tutorial on installing SUNDIALS/CVODE can be found here: <a href=https://www.shulele.net/en/post/20191119_sundials/ target=_blank rel=noopener>https://www.shulele.net/en/post/20191119_sundials/</a>.</p></li><li><p><strong>How to install SUNDIALS/CVODE?</strong></p><p>SUNDIALS (<a href=https://computing.llnl.gov/projects/sundials target=_blank rel=noopener>https://computing.llnl.gov/projects/sundials</a>) is a very powerful mathematical library that is helpful in solving engineering and scientific problems efficiently. CVODE is one of the suites, aiming to solve the Ordinary Differential Equation, in C language. SHUD requires the support of CVODE, so the user should install CVODE at least.</p><p>Users can install CVODE with the help of the tutorial: <a href=https://www.shulele.net/en/post/20191119_sundials/ target=_blank rel=noopener>https://www.shulele.net/en/post/20191119_sundials/</a>.</p><p>Besides this GUI installation, the user also can use the script <code>configure</code> in source code to install CVODE.</p></li><li><p><strong>The performance of the SHUD model?</strong></p><p>Normally, the performance of the model highly depends on resolution, lengths of river reaches, parameters set, terrestrial properties. For example, an 1100 cells watershed with area 192 $km^2$ takes about 5 hours to simulate 17 years. The simulation becomes slower under heavy rainfall events occurs than dry conditions.</p></li><li><p><strong>How to utilized the parallelization of SHUD model?</strong></p><p>Firstly, you have to install OpenMP library on your OS. Please confirm the <code>-fopen</code> flag works on your platform.</p><p>Secondly, it is necessary to compile and install CVODE with OpenMP supports, use tutorials (<a href=https://www.shulele.net/en/post/20191119_sundials/ target=_blank rel=noopener>https://www.shulele.net/en/post/20191119_sundials/</a>) as a reference.</p></li><li><p><strong>The optimal size of triangular cells, or number of triangles for a simulation.</strong></p><p>It highly depends on the modeler&rsquo;s purpose or scientific problems. The resolution can be $cm^2$ to $km^2$ based on data resolution, research problem, computational resources and performance requirement.</p></li></ul><h2 id=rshud>rSHUD</h2><ul><li><p><strong>How to install the rSHUD?</strong></p><p>In R, you should install <code>devtools</code>, then install <code>rSHUD</code> via GitHub.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>install</span><span class=o>.</span><span class=n>packages</span><span class=p>(</span><span class=s2>&#34;devtools&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>devtools</span><span class=p>::</span><span class=n>install_github</span><span class=p>(</span><span class=s2>&#34;SHUD-System/rSHUD&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p>Besides of the rSHUD, the user should install <code>RTriagle</code> via GitHub, instead of the version on CRAN.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>install</span><span class=o>.</span><span class=n>packages</span><span class=p>(</span><span class=s2>&#34;devtools&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>devtools</span><span class=p>::</span><span class=n>install_github</span><span class=p>(</span><span class=s2>&#34;shulele/RTriangle&#34;</span><span class=p>,</span> <span class=n>subdir</span><span class=o>=</span><span class=s2>&#34;pkg&#34;</span><span class=p>)</span>
</span></span></code></pre></div></li><li><p><strong>Is rSHUD available on R CRAN?</strong></p><p>Not yet. CRAN requires a lot of details explanations of algorithms and functions; it takes lots of energy. I will submit the rSHUD to CRAN in the future.</p></li><li><p><strong>Source code of rSHUD</strong></p><p>Source code of rSHUD is available via <a href=https://github.com/SHUD-System/rSHUD target=_blank rel=noopener>https://github.com/SHUD-System/rSHUD</a></p></li></ul></article><div class=article-widget><div class=post-nav></div></div></div><div class=body-footer><p>Last updated on Feb 23, 2020</p></div><footer class=site-footer><p class="powered-by copyright-license-text">¬© {2022} SHUD. Âá°ÊàëÂÖ¨ÂºÄÁöÑÔºåÁöÜ‰∏ç‰øùÁïôÁâàÊùÉÔºå‰∫¶‰∏çÁî≥Á¥¢ÊùÉÁõäÔºõ‰ΩÜÈúÄË¶ÅÊÇ®ÂêàÁêÜÂºïÁî®„ÄÇ (I reserve no right on anything in this website. Use it for free with right citation/reference. )</p><p class=powered-by>Published with <a href="https://hugoblox.com/?utm_campaign=poweredby" target=_blank rel=noopener>Hugo Blox Builder</a> ‚Äî the free, <a href=https://github.com/HugoBlox/hugo-blox-builder target=_blank rel=noopener>open source</a> website builder that empowers creators.</p></footer></main></div></div></div><div class=page-footer></div><script src=/js/vendor-bundle.min.js></script><script src=https://cdn.jsdelivr.net/npm/anchor-js@5.0.0/anchor.min.js integrity="sha256-aQmOEF2ZD4NM/xt4hthzREIo/2PFkOX/g01WjxEV7Ys=" crossorigin=anonymous></script><script>anchors.add()</script><script id=search-hit-fuse-template type=text/x-template>
    <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
    </div>
  </script><script src=https://cdn.jsdelivr.net/gh/krisk/Fuse@v3.2.1/dist/fuse.min.js integrity="sha512-o38bmzBGX+hD3JHWUFCDA09btWaqrNmoJ3RXLlrysA7PP01Kgs4UlE4MhelE1v5dJR3+cxlR4qQlotsW7jKsnw==" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/gh/julmot/mark.js@8.11.1/dist/jquery.mark.min.js integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin=anonymous></script><script id=page-data type=application/json>{"use_headroom":false}</script><script src=/en/js/wowchemy.min.js></script><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Cite</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i> Copy
</a><a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i> Download</a><div id=modal-error></div></div></div></div></div><script src=/js/wowchemy-publication.js type=module></script></body></html>